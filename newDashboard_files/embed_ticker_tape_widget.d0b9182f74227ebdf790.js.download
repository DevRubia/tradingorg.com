(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[90202],{345738:e=>{e.exports={"css-value-ticker-item-tape-padding":"16px","css-value-ticker-item-tape-height-normal":"44px","css-value-ticker-item-tape-height-compact":"72px","css-value-ticker-item-tape-skeleton-width-normal":"346px","css-value-ticker-item-tape-skeleton-width-compact":"125px"}},46875:e=>{e.exports={"css-value-ticker-item-tape-height-normal":"44px","css-value-ticker-item-tape-height-compact":"72px","css-value-ticker-item-tape-skeleton-width-normal":"346px","css-value-ticker-item-tape-skeleton-width-compact":"125px","css-value-ticker-item-tape-padding":"16px"}},531428:e=>{e.exports={}},982730:e=>{e.exports={}},223124:(e,t,s)=>{"use strict";s.d(t,{makeCancelable:()=>o,isCancelled:()=>n});class i{}function o(e){let t=!1;return{promise:new Promise(((s,o)=>{e.then((e=>t?o(new i):s(e))),e.catch((e=>o(t?new i:e)))})),cancel(){t=!0}}}function n(e){return e instanceof i}},803103:(e,t,s)=>{"use strict";s.d(t,{BORDER_WIDTH:()=>i});const i=1},750532:(e,t,s)=>{"use strict";var i=s(309103);function o(e,t="x"){let s=!1;return"x"!==t&&"both"!==t||(s=s||e.offsetWidth<e.scrollWidth),"y"!==t&&"both"!==t||(s=s||e.offsetHeight<e.scrollHeight),s}function n(e,t="x"){for(const s of Array.from(e.children))if(s instanceof HTMLElement&&(o(s,t)||n(s,t)))return!0;return!1}(0,s(10571).whenDocumentReady)((()=>{document.addEventListener("mouseenter",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.matches(".apply-overflow-tooltip")){let e="x";if(t.matches(".apply-overflow-tooltip--direction_both")?e="both":t.matches(".apply-overflow-tooltip--direction_y")&&(e="y"),t.matches(".apply-overflow-tooltip--check-children-recursively")){if(!n(t,e))return}else if(t.matches(".apply-overflow-tooltip--check-children")){let s=!1;const i=t.children;for(let t=0;t<i.length;t++){const n=i[t];if(n instanceof HTMLElement&&o(n,e)){s=!0;break}}if(!s)return}else if(!o(t,e))return;let s="";s=t.matches&&t.matches(".apply-overflow-tooltip--allow-text")?t.textContent||"":Array.from(t.childNodes).reduce(((e,t)=>(t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e)),[]).join("").trim(),(0,i.showOnElement)(t,{text:s});const a=()=>{(0,i.hide)(),["mouseleave","mousedown"].forEach((e=>t.removeEventListener(e,a)))};["mouseleave","mousedown"].forEach((e=>t.addEventListener(e,a)))}}),!0)}))},780237:(e,t,s)=>{"use strict";s.d(t,{TickerItemAbstract:()=>d});s(750532);var i=s(272001),o=s(269550),n=s(903972),a=s(869403),r=s.n(a),l=s(768038),c=s(17966);const h=(0,i.getLogger)("WidgetTicker");class d{constructor(e,t,s){this.onInit=new(r()),this.onComplete=new(r()),this.onError=new(r()),this._quoteTickerComplete=null,this._isRunning=!1,this._prevQuoteSymbol=null,this._el=t||document.createElement("a"),this._symbolData=e,this._options=s||{},(0,n.validateSymbolData)(e)?(this.render(),this.start()):h.logError("symbolData is not valid")}render(){this._el.classList.add(this._getClass()),this._el.innerHTML=this._getView(),this._setTitle(),this._setLink()}start(){
this._isRunning||(this._startQuoteTicker(),this._isRunning=!0)}stop(){this._isRunning&&(this._stopQuoteTicker(),this._isRunning=!1)}getElement(){return this._el}changeSymbol(e){const t=e.includes(":")?{proName:e}:{shortName:e};this._prevQuoteSymbol=this._getSymbolName(),this._symbolData=t,this._setTitle(),this._setLink(),this.stop(),this.start()}_getElementClass(e){return this._getClass()+"__"+e}_getSymbolName(){return this._symbolData.proName||this._symbolData.shortName}_renderSymbolLogo(e,t){const s=this._el.querySelector(".js-header-icon"),i=0===e.length?this._getPlaceholderLetter():void 0;s&&this._setSymbolLogoHtml(s,e,t,i)}_getPlaceholderLetter(){const e=this._symbolData.proName,t=e&&e.split(":")[1];return(this._symbolData.title||this._symbolData.description||t||""||" ")[0]}_setSymbolLogoHtml(e,t,s,i){if(t.length>0||void 0!==i){const o=(0,c.getCircleLogoAnyHtml)({logoUrls:t,size:s,className:this._getElementClass("icon"),placeholderLetter:i});e.innerHTML=o}else e.innerHTML=""}_setTitle(){const e=this._getElTitle();if(!e)return;const t=this._symbolData.title||this._symbolData.description||""||this._symbolData.shortName||this._symbolData.proName||"",s=(0,l.detectAutoDirection)(t);s&&(e.dir=s),e.textContent=t}_setLink(){if(!(this._el instanceof HTMLAnchorElement))return;const e=this._symbolData.linkPage;e&&(this._el.href=e),this._options.isEmbedWidget&&(this._el.target="_blank",this._el.rel="external noopener")}_startQuoteTicker(){if(!this._quoteTicker)return void this._createQuoteTicker();const e=this._getSymbolName();this._prevQuoteSymbol!==e?(this._destroyQuoteTicker(),this._createQuoteTicker()):this._quoteTicker.enable()}_stopQuoteTicker(){this._quoteTicker&&(this._quoteTicker.disable(),this._quoteTickerComplete=null)}_createQuoteTicker(){const e=this._getSymbolName(),t=this._getTickerOptions(),s=t.initedHook,i=t.setStateHook;this._quoteTickerComplete=null,this._quoteTicker=new o.QuoteTicker(e,this._el,{noSuchSymbolHook:()=>this.onError.fire("no_symbol"),sfPermissionDeniedHook:()=>this.onError.fire("permission_denied"),...t,initedHook:(...e)=>{null==s||s(...e),this.onInit.fire(...e)},setStateHook:(e,t,s)=>{null==i||i(e,t,s),s&&null===this._quoteTickerComplete&&(this._quoteTickerComplete=s,this.onComplete.fire())}})}_destroyQuoteTicker(){this._stopQuoteTicker(),delete this._quoteTicker}_getElTitle(){return this._el.querySelector(`.${this._getElementClass("title")}`)}}},903972:(e,t,s)=>{"use strict";function i(e){return Boolean(e)&&("string"==typeof e.proName||"string"==typeof e.shortName)}s.d(t,{validateSymbolData:()=>i})},596080:(e,t,s)=>{"use strict";var i,o;s.d(t,{ParentEvents:()=>i,IFrameEvents:()=>o}),function(e){let t;!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(t=e.Names||(e.Names={}))}(i||(i={})),function(e){let t;!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.WidgetReady="tv-widget-ready",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(t=e.Names||(e.Names={}))}(o||(o={}))},410899:(e,t,s)=>{"use strict";function i(e,t,s){
const i={name:e,frameElementId:t,data:s};window.parent.postMessage(i,"*")}function o(e,t){function s(s){s.data&&s.data.name&&s.data.name===e&&t(s.data.data)}return window.addEventListener("message",s,!1),()=>{window.removeEventListener("message",s,!1)}}s.d(t,{dispatchEventToParent:()=>i,listenEventFromParent:()=>o})},207678:(e,t,s)=>{"use strict";s.d(t,{breakpoints:()=>i,mobileFirstBreakpoints:()=>o,mobileFirstLegacyBreakpoints:()=>n});const i={desktop:1/0,desktopHd:1919,phone:767,"phone-vertical":479,tablet:1019},o={base:0,"media-mf-phone-vertical":320,"media-mf-phone-landscape":568,"media-mf-tablet-vertical":768,"media-mf-tablet-landscape":1024,"media-mf-laptop":1280,"media-mf-desktop-medium":1440,"media-mf-desktop-large":1920,"media-mf-desktop-extra-large":2560},n={"media-mf-legacy-phone-vertical":330,"media-mf-legacy-phone":480,"media-mf-legacy-notebook":1020,"media-mf-legacy-desktop-medium":1480,"media-mf-legacy-desktop":1531}},76107:(e,t,s)=>{"use strict";s.d(t,{getScrollbarWidth:()=>i,matchMediaMinMax:()=>o,getContentWidth:()=>n,setStyle:()=>a,getCSSProperty:()=>r,getCSSPropertyNumericValue:()=>l});const i=(()=>{let e;return()=>{var t;if(void 0===e){const s=document.createElement("div"),i=s.style;i.visibility="hidden",i.width="100px",i.msOverflowStyle="scrollbar",document.body.appendChild(s);const o=s.offsetWidth;s.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",s.appendChild(n);const a=n.offsetWidth;null===(t=s.parentNode)||void 0===t||t.removeChild(s),e=o-a}return e}})();function o(e,t){return t===1/0?window.matchMedia(`(min-width: ${e}px)`):window.matchMedia(`(min-width: ${e}px) and (max-width: ${t}px)`)}function n(e){return l(e,"width")-l(e,"padding-left")-l(e,"padding-right")}function a(e,t,s){null!==e&&e.style.setProperty(t,s)}function r(e,t){return getComputedStyle(e,null).getPropertyValue(t)}function l(e,t){return parseInt(r(e,t))}},850775:(e,t,s)=>{"use strict";s.d(t,{mediaState:()=>c});var i=s(685459),o=s.n(i),n=s(10571),a=s(207678),r=s(76107);class l extends(o()){constructor(){super(),this.width=0,this.height=0,this.device=null,this.breakpoints=a.breakpoints,this._checkDevice(),window.addEventListener("resize",this._checkDevice),Object.entries(a.breakpoints).sort((([e,t],[s,i])=>t-i)).forEach((([e,t],s,i)=>{let o;if(0!==s){const[,e]=i[s-1];o=e+1}else o=0;const n=(0,r.matchMediaMinMax)(o,t);n.matches&&this._setNewDevice(e),n.addListener((t=>{t.matches&&(this._checkDevice(),this._setNewDevice(e))}))})),(0,n.whenDocumentReady)(this._checkDevice.bind(this)),this.isPhoneSizeDevice.bind(this)}isPhoneSizeDevice(){return"phone"===this.device||"phone-vertical"===this.device}_checkDevice(){this.width=window.innerWidth,this.height=window.innerHeight}_setNewDevice(e){const t=this.device;this.device=e,this.trigger("changeDevice",[e,t])}}const c=new l},909740:(e,t,s)=>{"use strict";s.d(t,{setTheme:()=>n,watchedTheme:()=>o});var i=s(988411);const o=new(s.n(i)());function n(e){o.setValue(e)}o.subscribe((e=>{!function(e,t=window){
const s="theme-"+e,i=t.document.documentElement.classList;for(const e of Array.from(i))e.startsWith("theme-")&&e!==s&&i.remove(e);i.add(s)}(e,window)}))},17966:(e,t,s)=>{"use strict";s.d(t,{getCircleLogoAnyHtml:()=>n});var i=s(562840),o=s(315723);function n(e){const{logoUrls:t,...s}=e;return 1===t.length?(0,i.getCircleLogoHtml)({logoUrl:t[0],...s}):2===t.length?(0,o.getCircleLogoPairHtml)({primaryLogoUrl:t[0],secondaryLogoUrl:t[1],...s}):(0,i.getCircleLogoHtml)({logoUrl:void 0,...s})}},892093:(e,t,s)=>{"use strict";s.d(t,{getLogoUrlsHook:()=>r,removeUsdAndStableCoinFromCryptoPairLogos:()=>l,resolveLogoUrls:()=>a});var i=s(849204);const o=JSON.parse('["XTVCUSDT","XTVCDAI","XTVCBUSD","XTVCTUSD","XTVCUSDC","XTVCDGX","XTVCHUSD"]'),n=(0,i.getLogoUrlResolver)();function a(e,t=i.LogoSize.Medium){const s=e.logoid,o=e["base-currency-logoid"],a=e["currency-logoid"],r=s&&n.getSymbolLogoUrl(s,t);if(r)return[r];const l=o&&n.getSymbolLogoUrl(o,t),c=a&&n.getSymbolLogoUrl(a,t);return l&&c?[l,c]:l?[l]:c?[c]:[]}function r(e,t){let s=!1;return(i,o,n)=>{const r=i["currency-logoid"]&&i["base-currency-logoid"];if(!s&&(i.logoid||r||n)){s=!0;const o=l(a({logoid:i.logoid,"base-currency-logoid":i["base-currency-logoid"],"currency-logoid":i["currency-logoid"]},t));e(o)}}}function l(e){return 2!==e.length?e:function(e){return e.some((e=>c(e)))}(e)&&!function(e){return e.some((e=>e.includes("country")&&!c(e)))}(e)?e.filter((e=>!c(e))):function(e){return e.some((e=>d(e)))}(e)&&function(e){return e.some((e=>h(e)))}(e)?e.filter((e=>h(e))):e}function c(e){return e.includes("country/US")}function h(e){return e.includes("crypto")&&!d(e)}function d(e){return o.some((t=>e.includes(t)))}},315723:(e,t,s)=>{"use strict";s.d(t,{getCircleLogoPairHtml:()=>o});var i=s(439378);s(531428);function o(e){const{primaryLogoUrl:t,secondaryLogoUrl:s,size:o,className:a}=e;return`<span class="${(0,i.getBlockStyleClasses)(o,a)}">\n\t\t\t${n({logoUrl:s,size:o})}\n\t\t\t${n({logoUrl:t,size:o})}\n\t\t</span>`}function n(e){const{logoUrl:t,size:s}=e,o=(0,i.getLogoStyleClasses)(s,Boolean(t));return void 0===t?`<span class="${o}"></span>`:`<img class="${o}" src="${t}" alt="" />`}},439378:(e,t,s)=>{"use strict";s.d(t,{getBlockStyleClasses:()=>o,getLogoStyleClasses:()=>n});var i=s(497754);function o(e,t){return i("tv-circle-logo-pair",`tv-circle-logo-pair--${e}`,t)}function n(e,t){return i("tv-circle-logo-pair__logo",`tv-circle-logo-pair__logo--${e}`,!t&&"tv-circle-logo-pair__logo-empty")}},562840:(e,t,s)=>{"use strict";s.d(t,{getCircleLogoHtml:()=>o});var i=s(783036);s(982730);function o(e){const t=(0,i.getStyleClasses)(e.size,e.className);return(0,i.isCircleLogoWithUrlProps)(e)?`<img class="${t}" src="${e.logoUrl}" alt="">`:`<span class="${t}">${e.placeholderLetter||""}</span>`}},783036:(e,t,s)=>{"use strict";s.d(t,{getStyleClasses:()=>o,isCircleLogoWithUrlProps:()=>n});var i=s(497754);function o(e,t){return i("tv-circle-logo",`tv-circle-logo--${e}`,t)}function n(e){return"logoUrl"in e&&void 0!==e.logoUrl&&0!==e.logoUrl.length}},842820:e=>{e.exports={
tickerTape:"tickerTape-XRqrjBdM",noAutoScroll:"noAutoScroll-XRqrjBdM",tape:"tape-XRqrjBdM",head:"head-XRqrjBdM",tail:"tail-XRqrjBdM",skeleton:"skeleton-XRqrjBdM"}},551733:(e,t,s)=>{"use strict";s.d(t,{frameElementId:()=>o});const i=window.initData.hashSettings||{},o="string"==typeof i.frameElementId?i.frameElementId:null},600275:(e,t,s)=>{"use strict";s(728685),s(386981);var i=s(12481),o=(s(46875),s(780237)),n=s(17966),a=s(892093),r=s(878134),l=s(535799),c=s(497754);class h extends o.TickerItemAbstract{constructor(e,t,s){super(e,t,s),this._options=s||{}}setWidth(e){this._el.style.setProperty("width",e+"px")}getWidth(){if(!document.body.contains(this._el))throw new Error("Cannot get ticker item width, because the element is not attached to DOM");return this._el.getBoundingClientRect().width}resetWidth(){this._el.style.removeProperty("width")}toggleCompactMode(e){this._el.classList.toggle(`${this._getClass()}--compact`,e)}toggleTransparency(e){this._el.classList.toggle(`${this._getClass()}--transparent`,e)}setView(e,t,s){this.setWidth(e),this.toggleCompactMode(t),this.toggleTransparency(s)}static getSkeletonElement(e,t){const s=`<div class="${c("tv-ticker-item-tape","tv-ticker-item-tape--skeleton",{"tv-ticker-item-tape--compact":e,"tv-ticker-item-tape--transparent":t})}"><div class="tv-ticker-item-tape__border-wrapper"><div class="tv-ticker-item-tape__inner-wrapper"><div class="tv-ticker-item-tape__short-name-wrapper"></div><div class="tv-ticker-item-tape__last-wrapper"></div><div class="tv-ticker-item-tape__change-wrapper"></div></div></div></div>`;return(0,r.parseHtmlElement)(s)}_getClass(){return"tv-ticker-item-tape"}_getView(){const e={borderWrapper:this._getElementClass("border-wrapper"),innerWrapper:this._getElementClass("inner-wrapper"),symbol:this._getElementClass("symbol"),iconWrapper:this._getElementClass("icon-wrapper"),shortNameWrapper:this._getElementClass("short-name-wrapper"),shortName:this._getElementClass("short-name"),lastWrapper:this._getElementClass("last-wrapper"),last:this._getElementClass("last"),changeWrapper:this._getElementClass("change-wrapper"),changeAbs:this._getElementClass("change-abs"),changePt:this._getElementClass("change-pt")},t=this._symbolData.title||this._symbolData.description,s=this._options.showSymbolLogo;return`<div class="${e.borderWrapper}"><div class="${e.innerWrapper}"><div class=${e.symbol}><div class="${e.iconWrapper} js-header-icon">\n\t\t\t\t\t\t\t${s?(0,n.getCircleLogoAnyHtml)({logoUrls:[],size:this._options.isCompactMode?"xxsmall":"xsmall",className:this._getElementClass("icon")}):""}\n\t\t\t\t\t\t</div><div class="${e.shortNameWrapper}"><span class="${c(e.shortName,!t&&"js-symbol-short-name")}">${(0,
l.htmlEscape)(t||"")}</span><span class="js-symbol-session-status"></span></div></div><div class="${e.lastWrapper}"><span class="${e.last} js-symbol-last"></span><span class="js-data-mode"></span></div><div class="${e.changeWrapper} js-symbol-change-direction"><span class="${e.changeAbs} js-symbol-change"></span>&nbsp<span class="${e.changePt} js-symbol-change-pt"></span></div></div></div>`}_getTickerOptions(){return{dontDyePrice:!0,signPositive:!0,signNegative:!0,changeInBrackets:!1,changePercentInBrackets:!0,changeDirectionUpClass:`${this._getElementClass("change-wrapper")}--up`,changeDirectionDownClass:`${this._getElementClass("change-wrapper")}--down`,lastGrowingClass:`${this._getElementClass("last")}--growing`,lastFallingClass:`${this._getElementClass("last")}--falling`,sessionStatusClassSuffix:"--for-ticker-tape",dataModeClassSuffix:"--for-ticker-tape",showInvalidSymbolStatus:!0,indicatorsTooltipType:"browser",setStateHook:this._options.showSymbolLogo?(0,a.getLogoUrlsHook)((e=>{const t=this._options.isCompactMode?"xxsmall":"xsmall";this._renderSymbolLogo(e,t)})):void 0}}}var d,m,p,u=s(850775),g=s(777491),_=s(768038);!function(e){e.Adaptive="adaptive",e.Regular="regular",e.Compact="compact"}(d||(d={})),function(e){e.AllSymbols="all_symbols",e.Market="market",e.Symbol="symbol"}(m||(m={})),function(e){e.Cryptocurrencies="crypto",e.Currencies="forex",e.Stocks="stock",e.Indices="index",e.Futures="futures",e.Bonds="cfd"}(p||(p={}));var v=s(988411),f=s.n(v),y=s(869403),k=s.n(y),b=s(207678);const w=b.breakpoints.phone;function E(){return window.innerWidth<=w}function C(e){return e?72:44}var T=s(223124),L=s(345738),S=s(842820);const D=parseInt(L["css-value-ticker-item-tape-skeleton-width-normal"]),W=parseInt(L["css-value-ticker-item-tape-skeleton-width-compact"]),M=parseInt(L["css-value-ticker-item-tape-padding"]);function x(e){const t=new Promise((t=>{const s=()=>t(!0);e.onInit.subscribe(null,(e=>{var t;e?s():(t=2e3,new Promise((e=>{setTimeout(e,t)}))).then(s)}),!0)})),s=new Promise((t=>{e.onError.subscribe(null,(()=>t(!1)),!0)}));return Promise.race([t,s])}var I=s(797638),$=s(186521),N=s(958792),H=s(591650),P=s(903972),U=s(909740),R=s(410899),A=s(596080),B=s(803103),F=s(551733),V=s(351079);const q=(0,H.extractWidgetSettingsFromInitData)(),O=(0,$.filterUtmInfo)(q);let z=q.symbols;Array.isArray(z)&&z.every(P.validateSymbolData)||(console.error("Invalid symbols data, fall back to defaults"),z=window.initData.defaultSettings.symbols);const j=q.noLinks;q.noLinks||z.forEach((function(e){const t=e.proName||e.shortName;e.linkPage=(0,N.makeWidgetSymbolLink)(t,q.largeChartUrl,O)}));const X=q.isTransparent,Q=q.showSymbolLogo,K=q.displayMode,G=q.colorTheme;G&&(0,U.setTheme)(G);const J=document.querySelector("#widget-ticker-tape-container");(0,I.createEmbedWidgetWrapper)(J,O,{isWhiteLabel:q.whitelabel,locale:q.locale,copyrightOptions:{verticalPosition:V.CopyrightPosition.Vertical.Top}});const Y=new class{constructor(e){this.height=new(f())(0),this.onAllTickersFaulty=new(k()),this._styleElement=document.createElement("style"),
this._containerElement=document.createElement("div"),this._tapeElement=document.createElement("div"),this._headElement=document.createElement("div"),this._tailElement=document.createElement("div"),this._headTickerItems=[],this._tailTickerItems=[],this._tickerItemWidths=[],this._isCompactMode=new(f()),this._turnKeyboardFocusOn=e=>{e.target.matches(":focus-visible")&&(this._containerElement.classList.add(S.noAutoScroll),this._containerElement.removeEventListener("focusin",this._turnKeyboardFocusOn),this._containerElement.addEventListener("focusout",this._turnKeyboardFocusOff))},this._turnKeyboardFocusOff=e=>{const t=e.relatedTarget;null!==t&&this._containerElement.contains(t)||(this._containerElement.scrollLeft=0,this._containerElement.classList.remove(S.noAutoScroll),this._containerElement.removeEventListener("focusout",this._turnKeyboardFocusOff),this._containerElement.addEventListener("focusin",this._turnKeyboardFocusOn))},this._cancelDebouncedResize=()=>{},this._onCompactModeChanged=()=>{this._updateTickerViews(),this._updateStyles()},this._onDeviceChanged=()=>{this._isCompactMode.setValue(E())},this._ensureSufficientTailWidth=()=>{if(0===this._symbols.length)return;const e=this._containerElement.getBoundingClientRect().width,t=this._tailElement.getBoundingClientRect().width,s=this._headTickerItems.length;let i=e-t;for(let e=this._tailTickerItems.length%s;i>0;e=++e%s){const t=this._tickerItemWidths[e];i-=t;const s=this._createTickerItemTape(this._symbols[e]);this._tailTickerItems.push(s),this._tailElement.appendChild(s.getElement()),s.setView(t,this._isCompactMode.value(),this._isTransparent)}},this._updateHeightValue=e=>{this.height.setValue(C(e))},this._symbols=e.symbols,this._speed=e.speed,this._isTransparent=!!e.isTransparent,this._displayMode=e.displayMode,this._isEmbedWidget=!!e.isEmbedWidget,this._showSymbolLogo=!!e.showSymbolLogo,this._noLinks=!!e.noLinks,this._isCompactMode.setValue(this._displayMode===d.Adaptive?E():this._displayMode===d.Compact),this._isCompactMode.subscribe(this._updateHeightValue,{callWithLast:!0}),e.container.appendChild(this._containerElement),this._containerElement.classList.add(S.tickerTape),this._containerElement.classList.toggle(S.noAutoScroll,!this._speed),this._speed&&this._containerElement.addEventListener("focusin",this._turnKeyboardFocusOn),this._tapeElement.classList.add(S.tape),this._headElement.classList.add(S.head),this._tailElement.classList.add(S.tail);const t=function(e,t,s){const i=t?W:D,o=document.createElement("div");o.classList.add(S.skeleton);const n=Math.ceil(e/i);for(let e=0;e<n;e++)o.appendChild(h.getSkeletonElement(t,s));return o}(this._containerElement.getBoundingClientRect().width,this._isCompactMode.value(),this._isTransparent);this._tapeElement.appendChild(t);const s=[];for(const e of this._symbols){const t=this._createTickerItemTape(e);t.toggleTransparency(this._isTransparent),this._headTickerItems.push(t),this._headElement.appendChild(t.getElement()),s.push(x(t))}this._containerElement.appendChild(this._styleElement),
this._containerElement.appendChild(this._tapeElement),this._waitForTickersCancelable=(0,T.makeCancelable)(Promise.all(s)),this._waitForTickersCancelable.promise.then((e=>{e.every((e=>!e))&&this.onAllTickersFaulty.fire(),this._tapeElement.removeChild(t),this._tapeElement.appendChild(this._headElement),this._tapeElement.appendChild(this._tailElement),this._init()}),(e=>{if(!(0,T.isCancelled)(e))throw e}))}destroy(){this._containerElement.remove(),this._waitForTickersCancelable.cancel(),u.mediaState.off("changeDevice",this._onDeviceChanged),this._cancelDebouncedResize(),this._headTickerItems.forEach((e=>{e.stop()})),this._tailTickerItems.forEach((e=>{e.stop()}))}_createTickerItemTape(e){const t=document.createElement(this._noLinks?"span":"a");return new h(e,t,{isEmbedWidget:this._isEmbedWidget,showSymbolLogo:this._showSymbolLogo,isCompactMode:this._isCompactMode.value()})}_init(){this._isCompactMode.subscribe(this._onCompactModeChanged,{callWithLast:!0}),this._ensureSufficientTailWidth(),this._displayMode===d.Adaptive&&u.mediaState.on("changeDevice",this._onDeviceChanged),this._cancelDebouncedResize=function(e){const t=(0,i.default)(e,300);return window.addEventListener("resize",t),()=>{t.cancel(),window.removeEventListener("resize",t)}}(this._ensureSufficientTailWidth)}_updateTickerViews(){const e=this._headTickerItems.length;this._headTickerItems.forEach(((e,t)=>{e.resetWidth(),e.toggleCompactMode(this._isCompactMode.value());const s=e.getWidth()+M;e.setWidth(s),this._tickerItemWidths[t]=s})),this._tailTickerItems.forEach(((t,s)=>{t.toggleCompactMode(this._isCompactMode.value()),t.setWidth(this._tickerItemWidths[s%e])}))}_updateStyles(){const e=this._styleElement.sheet;if(!e||!this._speed)return;const t=this._headElement.getBoundingClientRect().width,s="ticker-tape-scroll"+"--"+(0,g.randomHashN)(4);for(;e.cssRules.length>0;)e.deleteRule(0);const i=[`@keyframes ${s} {\n\t\t\t\tfrom { transform: translateX(0); }\n\t\t\t\tto { transform: translateX(${(0,_.isRtl)()?"":"-"}${t}px); }\n\t\t\t}`,`.${S.tape} {\n\t\t\t\tanimation-duration: ${t/this._speed}s;\n\t\t\t\tanimation-name: ${s};\n\t\t\t}`];for(let t=0;t<i.length;t++)e.insertRule(i[t],t)}}({container:J,symbols:z,isTransparent:X,showSymbolLogo:Q,displayMode:K,noLinks:j,speed:40,isEmbedWidget:!0});Y.height.subscribe((function(e){X||(e+=2*B.BORDER_WIDTH);(0,R.dispatchEventToParent)(A.IFrameEvents.Names.ResizeIframe,null,{height:e})}),{callWithLast:!0}),Y.onAllTickersFaulty.subscribe(null,(()=>{(0,R.dispatchEventToParent)(A.IFrameEvents.Names.NoData,F.frameElementId,void 0)}),!0)}},e=>{e.O(0,[4571,73717,29610,79079,96972,75398,34145,75270,31755,76045,66690,76270,46647,97532,53748,61636,43312,88698,86981,19240,84258,69550,47393],(()=>{return t=600275,e(e.s=t);var t}));e.O()}]);